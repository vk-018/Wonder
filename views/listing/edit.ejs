<% layout('/layouts/boilerplate') %>

<body>
  
    <div class="row  new">     
      <div class="col-6 offset-3">
        <br>
        <h3>Edit your Listing</h3>
        <br>

<!--from validation same as new.ejs-->

<form action="/listing/edit/<%= data[0]._id%>?_method=PUT" method="post" novalidate class="needs-validation" enctype="multipart/form-data">
  
  <div class="mb-3">
    <label for="title" class="form-label">Title</label>
    <input type="text" class="form-control" id="title" name="title" value="<%= data[0].title %>" required>
    <div class="valid-feedback">Looks good</div>
    <div class="invalid-feedback">Enter a valid Title</div>
  </div>

  <div class="mb-3">
    <label for="description" class="form-label">Description</label>
    <textarea class="form-control" id="description"  name="description" required><%= data[0].description%></textarea>
    <div class="valid-feedback">Looks good</div>
    <div class="invalid-feedback">Enter a valid Description</div>
  </div>

  
  <!--select category from the dropdown-->
  <div class="mb-3">
  <div class="form-floating">
  <select class="form-select" id="floatingSelect" name="category" required>
      <option selected><%=data[0].category %></option>
      <option value="Trending">Trending</option>
      <option value="Mountain">Mountain</option>
      <option value="Iconic">Iconic</option>
      <option value="Beach">Beach</option>
      <option value="Farm">Farm</option>
      <option value="Apartment">Apartment</option>
    </select>

  <label for="floatingSelect">Category</label>
  <div class="valid-feedback">Looks good</div>
  <div class="invalid-feedback">Select a Valid Category</div>
</div>
</div>

  <div class="mb-3">
    Current Listing Image
    <br>
    <img src= <%= imageurl%>>
  </div>
  <div class="mb-3">
    <label for="image" class="form-label">Image</label>
    <input type="file" class="form-control" id="image"  name="image">
    <!--for editing case image wont be an req field-->
  </div>
  
  <div class="row">
    <div class="col-md-4">
  <div class="mb-3">
    <label for="price" class="form-label">Price</label>
    <input type="number" class="form-control" id="price"  name="price" value="<%= data[0].price%>" required>
    <div class="valid-feedback">Looks good</div>
    <div class="invalid-feedback">Enter a valid Price</div>
  </div>
  </div>
<div class="col-md-8">
  <div class="mb-3">
    <label for="location" class="form-label">Location</label>
    <input type="text" class="form-control" id="location"  name="location" value="<%= data[0].location%>" placeholder="Enter Address as City, State" required>
    <div class="valid-feedback">Looks good</div>
    <div class="invalid-feedback">Enter a valid a Location</div>
  </div>
  </div>
</div>
  <div class="mb-3">
    <label for="country" class="form-label">Country</label>
    <input type="text" class="form-control" id="country"  name="country" value="<%= data[0].country%>" required>
    <div class="valid-feedback">Looks good</div>
    <div class="invalid-feedback">Enter a valid Country Name</div>
  </div>

  <button type="submit" class="btn btn-dark">Submit</button>
</form>
</div>
</div>
    
</body>